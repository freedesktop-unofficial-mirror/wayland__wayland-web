<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> 
<html> 

<head> 
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"> 
<link href="wayland.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="generated-toc.js"></script>
<title>Wayland</title> 
</head>

<body>
<h1><a href="/"><img src="wayland.png" alt="Wayland logo"></a></h1>

<p>Before trying to compile and run any of the toolkits below, keep in
mind that they're all in progress and at most at the prototype stage.
And Wayland is still in development and the API and the core protocol
is still changing.  We try to keep things up to date, but you're
likely run into breakage.  Also, remember that you typically will have
to set <code>EGL_PLATFORM=wayland</code>.</p>

<div id="generated-toc" class="generate_from_h2"></div>

<h2>Qt 5</h2>

<p>Wayland support in the Qt 5 toolkit is happening in the Lighthouse
<a href="https://qt.gitorious.org/qt/qtwayland">wayland plugin</a>. To try it out, first clone the qtbase:</p>

<pre>
$ mkdir qt; cd qt
$ git clone git://gitorious.org/qt/qtbase.git
</pre>

you might want to set some env variables for compilation as well:

<pre>
$ export QTVER=qt5
$ export QTDIR=/opt/qt/$QTVER
$ export PATH=$QTDIR/bin/:$PATH
$ export LD_LIBRARY_PATH=$QTDIR/lib/:$LD_LIBRARY_PATH
$ export PKG_CONFIG_PATH=$QTDIR/lib/pkgconfig/:$PKG_CONFIG_PATH
$ export QT_PLUGIN_PATH=$QTDIR/lib/plugins/
</pre>

<pre>$ ./configure -confirm-license -opensource -no-multimedia -no-webkit -no-phonon -no-v8 -debug -qpa -xcb -wayland -egl -opengl es2 -nomake examples -prefix ${QTDIR}
$ make
$ sudo make install
</pre>

at this point you got all needed Qt libraries, and needed tools to compile
qtwayland platform:

<pre>
$ cd ../
$ git clone git://gitorious.org/qt/qtwayland.git
$ cd qtwayland/
$ qmake
$ make
$ make && make install
</pre>

don't forget to set the XDG directory and re-run .bashrc:

<pre>
$ export XDG_RUNTIME_DIR=$HOME/.xdg
$ mkdir $HOME/.xdg
</pre>

<p>when you run a Lighthouse application you either have to
pass <code>-platform wayland</code> or set
the <code>QT_QPA_PLATFORM</code> environment variable
to <code>wayland</code>.  Lighthouse supports a number of other
window systems.  There's an XCB backend, and by
passing <code>-platform xcb</code> you can jump back and forth between
Wayland and X to compare the look and feel of the application under
Wayland and X:</p>

<pre>
$ cd ../qtbase/examples/opengl/hellowindow
$ qmake
$ make
$ wayland-compositor &
$ ./hellowindow -platform wayland
</pre>

<h2>GTK+</h2>

<p>With GTK+ 3.0, GTK+ gained support for multiple backends at runtime
and can switch between backends in the same way Qt can with
lighthouse.  The Wayland support is on the upstream GTK+ master branch
but disabled by default.  To try GTK+ on Wayland, check out gtk+ and
pass <code>--enable-wayland</code> to configure:</p>

<pre>$ git clone git://git.gnome.org/gtk+
$ cd gtk+
$ ./configure --prefix=/usr --enable-x11-backend --enable-wayland-backend --enable-debug=yes
$ make
</pre>

<p>When both Wayland and X backends are enabled, GTK+ will default to
the X11 backend, but this can be overridden by setting the
<code>GDK_BACKEND</code> environment variable to <code>wayland</code>.</p>

<h2>Clutter</h2>

<p>The Clutter toolkit has a Wayland backend that allows it to run as
a Wayland client.  The backend is in the master branch of
the <a href="http://git.gnome.org/browse/clutter">main repo</a> and
can be activated by passing <code>--with-flavour=wayland</code> to the
configure script.</p>

<h2>SDL</h2>

<p>Benjamin Franzke is working on a port of SDL to Wayland, it's
available in
his <a href="http://cgit.freedesktop.org/~bnf/sdl-wayland/">sdl-wayland
repo</a> on freedesktop.org.</p>

<h2>EFL</h2>

<p>EFL is currently being ported to Wayland, according to the developer
(Christopher Michael aka devilhorns); everything but E17 works at this time.
Please see <a href="http://trac.enlightenment.org/e/wiki/Wayland">here</a> for
details.</p>

</body>
</html>
